#!/usr/bin/env node

var exists = require('fs').existsSync;
var khaos = require('..');
var program = require('commander');
var resolve = require('path').resolve;

/**
 * Usage.
 */

program
  .version(require('../package.json').version)
  .usage('<template> <name>')
  .parse(process.argv);

/**
 * Help.
 */

if (!program.args.length) return program.help();

/**
 * Settings.
 */

var template = program.args[0];
var name = program.args[1];

if (!template) throw new Error('template required');
if (!name) throw new Error('name required');

template = resolve(process.env.HOME, '.khaos', template);

if (!exists(template)) throw new Error('template not found');

/**
 * Generate.
 */

khaos(template, resolve(name));
